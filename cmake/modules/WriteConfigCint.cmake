# Creates the file configcint.h and write configuration
# Don't know why this is needed
# TODO: Change file that it works with WINDOWS
macro(write_config_cint)
 Execute_Process(
   COMMAND cmake -E make_directory ${CMAKE_CURRENT_BINARY_DIR}/include1
 )  
 
  WRITE_FILE(${CONFIGCINT_FILENAME} "/* Generated by WriteConfigCint.cmake*/")
  IF(UNIX)
    if(ROOT_PLATFORM MATCHES macosx)
       WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_ARCH \"${ROOT_ARCHITECTURE}\"" APPEND)
       WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_IMPLIBEXT \".dylib\"" APPEND)
    else(ROOT_PLATFORM MATCHES macosx)
       WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_ARCH \"${ROOT_ARCHITECTURE}\"" APPEND)
       WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_IMPLIBEXT \".a\"" APPEND)
    endif(ROOT_PLATFORM MATCHES macosx)
  

    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LDOUT \"-o \"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LIBL \"-l@imp@\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LIBEXT \".a\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_MANGLEPATHS \"echo \"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_PLATFORMO \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_AR \"ar qcs\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_COREVERSION \"${ROOT_DICTTYPE}\" " APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CC \"${CMAKE_C_COMPILER}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CFLAGS \"${CMAKE_C_FLAGS} ${CINT_C_DEFINITIONS} -I${CMAKE_INSTALL_PREFIX}/include -I${CMAKE_BINARY_DIR}/include\" " APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CMACROS \"${CINT_C_DEFINITIONS}\" " APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_COMP \"-c \"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CPP \"${CPPPREP}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_COUT \"${CXXOUT}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_COUTEXE \"${CXXOUT}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_INCP \"-I\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CXX \"${CMAKE_CXX_COMPILER}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CXXFLAGS \" ${CMAKE_CXX_FLAGS} ${CINT_CXX_DEFINITIONS} -I${CMAKE_INSTALL_PREFIX}/include -I${CMAKE_BINARY_DIR}/include\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CXXMACROS \"${CINT_CXX_DEFINITIONS}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LD \"${CMAKE_CXX_COMPILER}\"" APPEND)

    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LDFLAGS \"${CMAKE_CXX_LINK_FLAGS}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_LIBP \"-L\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_SOFLAGS \"${CMAKE_SHARED_LIBRARY_CREATE_C_FLAGS}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_SOOUT G__CFG_LDOUT" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_OBJEXT \".o\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_EXEEXT \"${EXEEXT}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_SOEXT \".${SOEXT}\"" APPEND)
#    IF(CMAKE_BUILD_TYPE MATCHES DEBUG)
#      WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_DEBUG \"$(DEBUG)\"" APPEND) #TODO
#    ELSE(CMAKE_BUILD_TYPE MATCHES DEBUG)
      WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_DEBUG \"\"" APPEND) #TODO
#    ENDIF(CMAKE_BUILD_TYPE MATCHES DEBUG)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_DEFAULTLIBS \"${SYSLIBS}\"" APPEND) 
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_DEFAULTLIBS \"${SYSLIBS}\"" APPEND) 
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_STREAMDIR \"\" " APPEND) #TODO
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_EXPLLINK \"${EXPLICITLINK}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_BUILDREADLINE \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_READLINELIBDIR \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_READLINEINCDIR \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_NEEDCURSES \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_RM \"rm -f\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_MV \"mv -f\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_INPUTMODE \"root\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_INPUTMODELOCK \"off\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_MAKEIMPLIB \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_CINTSYSDIR \"${CMAKE_INSTALL_PREFIX}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_HAVE_CONFIG \"1\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define CINTSYSDIR \"${CMAKE_INSTALL_PREFIX}\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_MAKEIMPLIB \"\"" APPEND)
    WRITE_FILE(${CONFIGCINT_FILENAME} "#define G__CFG_HAVE_CONFIG \"1\"" APPEND)
    
    
  ENDIF(UNIX)
endmacro(write_config_cint)
