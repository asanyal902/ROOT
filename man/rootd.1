.\" 
.\" $Id$
.\"
.TH ROOTD 1 "Version 3" "ROOT" 
.\" NAME should be all caps, SECTION should be 1-8, maybe w/ subsection
.\" other parms are allowed: see man(7), man(1)
.SH NAME
rootd \- The ROOT file server deamon 
.SH SYNOPSIS
.B rootd
.I "[options]"
.SH "DESCRIPTION"
This manual page documents briefly the
.BR root ,
program.
.PP
.B rootd
is a
.B ROOT
remote file server daemon.
.PP
This small server is started either by \fIinetd\fR(8) when a client
requests a connection to a  \fIrootd\fR server or by hand (i.e. from
the command line). The  \fIrootd\fR server works with the \fBROOT\fR
\fITNetFile\fR class. It allows remote access to \fBROOT\fR database
files in either read or write mode. By default  \fITNetFile\fR assumes
port 1094 - which requires  \fIrootd\fR to be started as root (the
user, not the program). 
.SH "STARTING VIA INETD"
To run \fIrootd\fR via \fIinetd\fR(8) add the following line to
\fI/etc/services\fR: 
.sp 1
.RS
.nf
rootd     1094/tcp
.fi
.RE
.sp 1
and to \fI/etc/inetd.conf\fR:
.sp 1
.RS
.nf
rootd stream tcp nowait root <\fIbindir\fR>/rootd rootd -i
.fi
.RE
.sp 1
where <\fIbindir\fR> is the directory you have installed \fIrootd\fR
in. 
.PP 
Force \fIinetd\fR(8) to reread its conf file with 
.sp 1
.RS
.nf
kill -HUP <pid inetd>
.fi
.RE
.sp 1
If you use \fBSYSV\fR \fIinit\fR(8) scripts, you can probaly just do
.sp 1
.RS
.nf
/etc/init.d/inetd restart
.fi
.RE
.sp 1
or whatever is appropiate for your system.
.PP
If you installed \fBROOT\fR using some precompiled package (for
example a \fBRedhat Linux\fR or a \fBDebian GNU/Linux\fR package),
this may already be done for you. 
.SH "STARTING BY HAND (NON-SUPERUSERS)"
You can also start 
\fIrootd\fR by hand running directly under your private account (no
root system priviliges needed). For example to start \fIrootd\fR 
listening on port 5151 just type:
.sp 1
.RS
.nf
rootd -p 5151
.fi
.RE
.sp 1
\fBNotice\fR: no & is needed \fIrootd\fR will go in background by
itself. 
.SH "ANONYMOUS LOGINS"
\fIrootd\fR can also be configured for anonymous usage (like anonymous
ftp). To setup \fIrootd\fR to accept anonymous logins do the following
(while being logged in as root): 
.TP 
.Bl -enum
.It 
Add the following line to /etc/passwd:
.sp 1
.RS
.nf
rootd:*:71:72:Anonymous rootd:/var/spool/rootd:/bin/false
.fi
.RE
.sp 1
where you may modify the uid, gid (71, 72) and the home directory to
suite your system. 
.Ic 
Add the following line to /etc/group:
.sp 1
.RS
.nf
rootd:*:72:rootd
.fi
.RE
.sp 1
where the gid must match the gid in 
.I /etc/passwd
.Ic
 Create the directories:
.sp 1
.RS
.nf
/var/spool/rootd
mkdir /var/spool/rootd/tmp
chmod 777 /var/spool/rootd/tmp
.fi
.RE
.sp 1
Where 
.I /var/spool/rootd 
must match the 
.B rootd 
home directory as specified in the 
.B rootd 
.I /etc/passwd 
entry.
.It 
To make writeable directories for anonymous do, for example:
.sp 1
.RS
.nf
mkdir /var/spool/rootd/pub
chown rootd:rootd /var/spool/rootd/pub
.fi
.RE
.sp 1
.El
That's all.
.PP
If you installed \fBROOT\fR using some precompiled package (for
example a \fBRedhat Linux\fR or a \fBDebian GNU/Linux\fR package),
this may already be done for you. 
.PP
Several remarks:
.TP 
.B * 
You can login to an anonymous server either with the names
.I anonymous 
or 
.I rootd.
.TP
.B *
The passwd should be of type 
.I user@host.domain 
Only the @ is enforced for the time being.
.TP
.B *
In anonymous mode the top of the file tree is set to the 
.B rootd
home directory, therefore only files below the home directory can be
accessed. 
.TP
.B *
Anonymous mode only works when the server is started via 
.B inetd(8).
.SH OPTIONS
.B \-?
Show summary of options.
.TP 
.B -i           
says we are started by \fIinetd\fR(8)
.TP 
\fB-p\fR <\fIport#\fR>
specifies port number to listen on
.TP   
\fB-d\fR <\fIlevel\fR>
level of debug info written to syslogd
0 = no debug (default), 1 = minimum, 2 = medium, 3 = maximum. 
.SH "SEE ALSO"
\fIroot\fR(1), \fIproofd\fR(1)
.PP
For more information on the \fBROOT\fR system, please refer to 
.US http://root.cern.ch/
.I http://root.cern.ch
.UE
.SH "ORIGINAL AUTHORS"
The ROOT team (see web page above):
.RS
.B Rene Brun 
and
.B Fons Rademakers
.RE
.SH "COPYRIGHT"
ROOT Software Terms and Conditions
.PP
The authors hereby grant permission to use, copy, and distribute this
software and its documentation for any purpose, provided that existing
copyright notices are retained in all copies and that this notice is
included verbatim in any distributions. Additionally, the authors grant
permission to modify this software and its documentation for any purpose,
provided that such modifications are not distributed without the explicit
consent of the authors and that existing copyright notices are retained in
all copies. Users of the software are asked to feed back problems, benefits,
and/or suggestions about the software to the ROOT Development Team
(rootdev@root.cern.ch). Support for this software - fixing of bugs,
incorporation of new features - is done on a best effort basis. All bug
fixes and enhancements will be made available under the same terms and
conditions as the original software,
.PP
IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY FOR
DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT
OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY DERIVATIVES THEREOF,
EVEN IF THE AUTHORS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.PP
THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. THIS SOFTWARE IS
PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE NO
OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR
MODIFICATIONS.
.SH AUTHOR 
This manual page was written by Christian Holm Christensen
<cholm@nbi.dk>, for the Debian GNU/Linux system (but may be used by
others). 
.\" 
.\" $Log$
.\"
