<html>
<head><link href="../cscroot.css" rel="stylesheet" type="text/css"><title>ROOT Exercise I - Solution</title></head>
<body class="solution">
<h1>ROOT Exercise I - Solution</h1>
<p>Got stuck? This is the solution</p>
<h2>2 Constructors and alike</h2>

<div class="exercise">
<p>Execute the macro <a href="test_motorcycle.C" class="source">test_motorcycle.C</a>.
      This macro creates and loads a library containing the class <tt>TMotorcycle</tt>, which
      is defined in <a href="Motorcycle.h" class="source">Motorcycle.h</a> and
      <a href="Motorcycle.C" class="source">Motorcycle.C</a>.
      <a href="test_motorcycle.C" class="source">test_motorcycle.C</a> is very inefficient - and
      your assignment is to figure out why. To do that, count how many times the constructor,
      copy constructor, assignment operator and destructor are called. You should modify
      <a href="Motorcycle.C" class="source">Motorcycle.C</a>
      for that.</p>
      <p>The copy constructor and assignment operator can be extremely expensive,
      e.g. for large vectors of large objects,
      so it is important to learn how to write code that avoids their invocation.</p>
</div>
<p>
The functions are the first five functions in <a href="Motorcycle.C" class="source">Motorcycle.C</a>.
Simply add
<pre>
   printf("~TMotorcycle called\n");
</pre>
(and "TMotorcycle()\n",... for the other functions) to count how often they get invoked.
You will see that the constructor taking the name etc gets called once, the copy constructor gets called nine times,
and the destructor gets called ten times.
</p>
</body>
</html>
