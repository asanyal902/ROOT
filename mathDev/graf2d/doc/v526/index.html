<br> 
<hr> 
<a name="graf2d"></a> 


<h3>Graphical Output</h3>

<h4>PostScript and PDF</h4>
<ul>
<li> In the following macro the minus sign was not correct:
   <pre>
   {
      TCanvas *c = new TCanvas;
      TLatex *l = new TLatex(0.5, 0.5, "#font[122]{a = b + c - d #pm e}");
      l->Draw();
      c->SaveAs("c.eps");
    }
    </pre>
    The font 122 is the greek one. With a such TLatex "a" becomes "alpha", 
    "b" becomes " beta" etc ... It is not the recommended way to do greek
    characters with TLatex, but it should work anyway.
<li> In TPostScript::DrawPolyMarker: do not draw the markers is the marker size
     is 0.
<li> Right aligned or centered text was not correctly positioned when rotated.
</ul>

<h4>TASImage</h4>
<ul> 
<li> The text size adjustment applied <tt>TASImage::DrawText</tt>
  was not valid (scale factor of 1.044). The text size was wrong and the 
  following macro produced a wrong title when ran in batch:
  <pre>
  {
     TCanvas *canvas = new TCanvas("c5","c5",900,900);
     TH1F *histo = new TH1F("Histo","123456x_{i}abcdefy^{2}",100,0,20);
     canvas->Print("drawing.gif");
  }
  </pre>
<li> Suppress annoying messages like:
    <pre>
    root : looking for image "filename" in path [/home/username/icons]
    </pre>
    printed by libAfterImage when using <tt>TImage::Open("filename")</tt>
</ul>

<h3>Interface to <em>graphviz</em></h3>

Thanks to three new classes (<tt>TGraphStruct</tt>, <tt>TGraphNode</tt> and 
<tt>TGraphEdge</tt>) ROOT provides
an interface to the graphs visualization package <em>graphviz</em>. Graph 
visualization is a way of representing structural information as diagrams of
abstract graphs and networks. 
<br>
Example:
<center>
<img alt="Example of TGraphStruct" src="graphstruct.gif">
</center>
The previous image is produced by the following ROOT macro:
   <pre>
   // Draw a simple graph structure.
   // The graph layout is made using graphviz. This macro creates some
   // nodes and edges and change a few graphical attributes on some of them.
   // Author: Olivier Couet
   {
      TGraphStruct *gs = new TGraphStruct();
   
      // create some nodes and put them in the graph in one go ...
      TGraphNode *n0 = gs->AddNode("n0","Node 0");
      TGraphNode *n1 = gs->AddNode("n1","First node");
      TGraphNode *n2 = gs->AddNode("n2","Second node");
      TGraphNode *n3 = gs->AddNode("n3","Third node");
      TGraphNode *n4 = gs->AddNode("n4","Fourth node");
      TGraphNode *n5 = gs->AddNode("n5","5th node");
      TGraphNode *n6 = gs->AddNode("n6","Node number six");
      TGraphNode *n7 = gs->AddNode("n7","Node 7");
      TGraphNode *n8 = gs->AddNode("n8","Node 8");
      TGraphNode *n9 = gs->AddNode("n9","Node 9");

      n4->SetTextSize(0.03);
      n6->SetTextSize(0.03);
      n2->SetTextSize(0.04);

      n3->SetTextFont(132);

      n0->SetTextColor(kRed);

      n9->SetFillColor(kRed-10);
      n0->SetFillColor(kYellow-9);
      n7->SetFillColor(kViolet-9);

      // some edges ...
      gs->AddEdge(n0,n1)->SetLineColor(kRed);
      TGraphEdge *e06 = gs->AddEdge(n0,n6);
      e06->SetLineColor(kRed-3);
      e06->SetLineWidth(4);
      gs->AddEdge(n1,n7);
      gs->AddEdge(n4,n6);
      gs->AddEdge(n3,n9);
      gs->AddEdge(n6,n8);
      gs->AddEdge(n7,n2);
      gs->AddEdge(n8,n3);
      gs->AddEdge(n2,n3);
      gs->AddEdge(n9,n0);
      gs->AddEdge(n1,n4);
      gs->AddEdge(n1,n6);
      gs->AddEdge(n2,n5);
      gs->AddEdge(n3,n6);
      gs->AddEdge(n4,n5);

      TCanvas *c = new TCanvas("c","c",800,600);
      c->SetFillColor(38);
      gs->Draw();
      return c;
   }
   </pre>

This new funtionnality relies on the <em>graphivz</em> package.
This package can be downloaded from 
<a href="http://www.graphviz.org/">http://www.graphviz.org/</a>.
<p>
At installation time, to find <em>graphviz</em>, the ROOT's configure file looks in
standard locations. It is possible to define a specific location using the
configure flags:
<pre>
--with-gviz-incdir="the directory where gvc.h is"
--with-gviz-libdir="the directory where the libgvc library is"
</pre>
To install <em>graphviz</em> it is recommended to use the following configure flags:
<pre>
--enable-static=yes --enable-shared=no --with-pic --prefix="graphviz installed here" 
</pre>

<h3>Graphics Primitives</h3>

<h4>New class TGraphTime</h4>
TGraphTime is used to draw a set of objects evolving with nsteps in time between tmin and tmax.
each time step has a new list of objects. This list can be identical to
the list of objects in the previous steps, but with different attributes.
   see example of use in $ROOTSYS/tutorials/graphs/gtime.C

<h4>TLatex</h4>
<ul>
<li> In the following macro the <tt>#int</tt> and <tt>#sum</tt> symbols had 
     wrong limits placement if the character just before started with "#".
   <pre>
   {
      TCanvas *c1 = new TCanvas("c1","c1",500,500);
      TLatex l;
      l.SetTextSize(0.1);

      l.DrawLatex(0.1,0.6,"#nu#int^{1-x}_{2#pi}");
      l.DrawLatex(0.1,0.2,"a#int^{1-x}_{2#pi}");

      l.DrawLatex(0.5,0.6,"#nu#sum^{1-x}_{2#pi}");
      l.DrawLatex(0.5,0.2,"a#sum^{1-x}_{2#pi}");
   }
   </pre>

   This problem is there since the 1st version of TLatex. It is fixed by:
   <ol>
   <li>Giving "^" and "_" a lower precedence than special and greek characters.
   <li>Making a special case for #int and #sum and giving them even
      lower precedence than "^" and "_". 
   </ol>
   Oleksandr Grebenyuk <tt><ogrebenyuk@lbl.gov></tt> helped a lot solving this 
   issue.
</ul>

</h4>TMarker</h4>
<ul>
<li> The markers picking now takes into account the marker size. This is
     useful for big markers, because there is no need to pick exactly the 
     marker's center.
</ul>

</h4>TPad</h4>
<ul>
<li> It is now possible to zoom and unzoom axis using the mouse wheel.
</ul>

</h4>TPie</h4>
<ul>
<li> <tt>TPie::GetEntryVal(i)</tt> returned <tt>GetSlice(i)->GetRadiusOffset()</tt>
instead of <tt>GetSlice(i)->GetValue()</tt>. Very likely the code was 
copied/pasted from the method <tt>TPie::GetEntryRadiusOffset(i)</tt>.
</ul>

</h4>TGaxis</h4>
<ul>
<li>An axis with a custom scale defined by a function did not display ticks all
  the way along the axis, only between the lowest and the highest major tick.
  This behaviour could be seen with:
  <pre>
  {
     TF1* f = new TF1("f", "exp(x)", 0.467, 2.1345);
     TGaxis* a = new TGaxis(0.1,0.4,0.9,0.4, "f", 50510, "-");
     a->Draw();
     TGaxis* b = new TGaxis(0.1,0.7,0.9,0.7, 0.4356, 1.56789, 50510, "-");
     b->Draw();
  }
  </pre>
</ul>
