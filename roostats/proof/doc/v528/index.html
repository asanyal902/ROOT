<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
</head>
<body>
<br>
<hr>
<a name="proof"></a>
<h3>Proof</h3>
<ul>
<li>New functionality
<ul>
<li>Add support for <span style="font-style: italic;">processing
many datasets in one go</span> in <span style="font-style: italic;">TProof::Process(const char
*dataset, ...)</span>.<br>
Two options are provided:<br>
&nbsp;- <span style="font-style: italic;">'grand
dataset'</span>:&nbsp; &nbsp;the datasets are added up
and considered as a single dataset <span style="text-decoration: underline;">(</span><span style="font-style: italic; text-decoration: underline;">syntax</span><span style="text-decoration: underline;">:</span>
"dataset1|dataset2|...")<br>
&nbsp;- <span style="font-style: italic;">'keep
separated'</span>:
the datasets are processed one after the other; the user is notified in
the selector of the change of dataset so she/he has the opportunity to
separate the results. A new packetizer, TPacketizerMulti, has been
developed for this case: it basically contains a list of standard
packetizers (one for each dataset) and loops over them (<span style="font-style: italic; text-decoration: underline;">syntax</span>:
"dataset1,dataset2,..." or dataset1 dataset2 ...").<br>
In
both cases, entry-list can be applied using the syntax
"dataset&lt;&lt;entrylist", e.g.
"dataset1&lt;&lt;el1|dataset2&lt;&lt;el2|".<br>
The datasets to be processed can also be specified on one or multiple lines in a text file.<br> See <a href="http://root.cern.ch/drupal/content/working-data-sets">http://root.cern.ch/drupal/content/working-data-sets</a>
for more details.</li>
<li>Add
support for automatic download of a package when available on the
master but not locally. The downloaded packages are store under <span style="font-style: italic;">&lt;sandbox&gt;/packages/downloaded</span>
and automatically checked for updates against the master repository. If
a local version of the same package is created (using the
UploadPackage) the entry in&nbsp;<span style="font-style: italic;">downloaded</span> is
cleared, so that the behaviour is unchanged.<br>
The new functionality is described in <a href="http://root.cern.ch/drupal/content/working-packages-par-files">http://root.cern.ch/drupal/content/working-packages-par-files</a>
.</li>
<li>Add
the possibility to remap the server for the files in a dataset. This
allows, for example, to reuse the dataset information for the same
files stored in a different cluster.</li>
<li>Add a local cache for
TDataSetManagerFile. This is mainly used to improve the speed of
TDataSetManager::ShowDataSets, which is run very often by users and may
be very slow if the number of dataset is large. The cache is also used
to cache frequently received dataset objects.</li><li>Add the possibility to audit the activity on the nodes via syslog. See <a href="http://root.cern.ch/drupal/content/enabling-query-monitoring">http://root.cern.ch/drupal/content/enabling-query-monitoring</a>
.</li>
</ul>
</li>
<li>Improvements</li>
<ul>
<li>Improve support for valgrind runs in PROOF-Lite</li>
<li>Add the possibility to add files to a dataset. This is
achieved with a new option 'U' (for update) to RegisterDataSet.</li>
<li>Add
methof TProof::GetStatistics to allow the client to retrieve the
correct values of fBytesRead, fRealTime and fCpuTime at any moment;
this will be used to setup a sort of ROOTmarks in stressProof .</li>
<li>Several improvements in the test program 'stressProof'
and in the tutorials under 'tutorials/proof'</li>
<li>Avoid
contacting the DNS when initializing TProofMgr as base class of
TProofMgrLite: it is not needed and it may introduce long startup
delays.</li>
<li>Make&nbsp;TProof::LogViewer("") start the viewer for
a Lite session, in parallel to whats happen for TProof::Open("").</li>
<li>Several
improvements in the handling of wild cards in the dataset manager; for
example, issuing a GetDataSet(...) on a dataset URI containign wild
cards will return a grand dataset sum of all the datasets matching the
URI.</li>
<li>Add options to get a list of all dataset registered names
from ScanDataSets (option kList; the result is a TMap of {TObjString,
TObjString} with the second TObjString empty).</li><li>Improved version of the PQ2 scripts; the scripts now invoke a dedicated ROOT application (named <span style="font-style: italic;">pq2</span>) available under $ROOTSYS/bin .</li><li>Add
support for recursive reading of group config files via the 'include
sub-file' directive. This allows to have a common part and, for
example, customize differently the quotas.</li>
</ul>
<li>Fixes</li>
<ul>
<li>Fix a bug in error status transmission which avoid
session freezing in some cases</li>
<li>FIx
a few issues in libXrdProofd.so with handling of connection used for
admin operation: this should solve some cases where the daemon was not
responding. </li>
<li>Fix a few memory leaks showing up when
running&nbsp;several&nbsp;queries in the same session</li>
<li>Fix a few issues affecting the new sub-merging option</li>
<li>Fix an issue preventing proper real-time notification
during VerifyDataSet</li>
<li>Fix an issue with TQueryResult ordering (was causing
random 'stressProof' failures)</li>
<li>Fix
an issue with TProof::AskStatistics (fBytesRead, fRealTime and fCpuTime
were not correctly filled on the client; the values on the master,
displayed by TProof::Print were correct).</li>
<li>Fix several small issues affecting the handling of global
package directories</li>
<li>Fix an issue with socket handling in the main event-loop
while sendign or receiving files via TProofMgr.</li>
<li>Fix
a problem counting valid nodes in sequential or 'masteronly' mode,
generating the fake error message "GoParallel: attaching to candidate!"</li>
<li>Fix a few issues with the length of Unix socket paths
affecting PROOF-Lite and xproofd on MacOsX </li>
<li>Fix an issue with the release of file descriptors when
recovering sessions .</li>
<li>Fix an issue with a fake error message<span style="font-family: monospace;"> ("</span>Error in
&lt;TROOT::cd&gt;: No such file root:/") in PROOF-Lite when
issuing TProof::SetParallel().</li>
<li>Fix a problem with negative values for 'workers still
sending' in PROOF-Lite .</li>
<li>Fix locking issue while building packages locally.</li>
<li>Fix issue setting permission and ownership of the dataset
user directories.</li>
<li></li>
</ul>
</ul>
</body></html>