<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<link href="../cscroot.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Molengo" />
<script type="text/javascript" src="../cscroot.js"> </script>
<title>ROOT Exercise II</title>
</head>
<body>
<iframe class="toc" src="../toc.html?2.2" > </iframe>
<div id="b">
<h1>ROOT Exercise II</h1>
<h3>Reading a TTree (5/5)</h3>
      <p class="info"> Note that for these exercises, timing is a <em>key ingredient</em>, so please remember the printed times.
      And to be sure to obtain good timing values, you <em>have to</em> run the macro consecutively several (at least two) times.</p>

<p>Now you use <tt>TTree::Draw()</tt> again, but on a non-split tree (split-level 0). The tree can be found in the file
      <tt>TFile::Open("http://server/ROOT/exercise2_nonsplit.root")</tt>. Draw the same expression as before. Do you notice a timing
      difference? Is that expected?</p>

<div class="help" id="help1">
<p>You can modify the macro you created in the previous exercise to open
the file <tt>http://server/ROOT/exercise2_nonsplit.root</tt>. Then simply run it again.</p>
</div>

<div class="help" id="helps">
<p>If you still plot <tt>fE</tt> then your code might look like this:</p>
<pre>
#include "TROOT.h"
#include "TFile.h"
#include "TTree.h"
#include "TRandom.h"
#include "TClonesArray.h"
#include "myparticle.h"
#include "TH1F.h"

void read_tree()
{
   // function reading particles collection in a tree

   // open the Root file
   TFile *f = TFile::Open("http://server/ROOT/exercise2_nonsplit.root");
   // get the tree from the file
   TTree *myTree = (TTree*)f-&gt;Get("MyTree");
   
   // initialize Root's timing mechanism
   gROOT-&gt;Time();
   
   // Magic of TTree::Draw()!!!!
   myTree-&gt;Draw("muons.fE", "");

   // display the time elapsed since the first call to gROOT-&gt;Time()
   gROOT-&gt;Time();
}
</pre>
<p>You should see that this runs slower. It's only due to the fact that the tree in this file is not split.
So instead of reading only the part that you care about (<tt>muons.fE</tt>) ROOT has to read the full muons branch.
</div>

<div id="nav" class="buttons">
  <a href="6.html">
    <span>
    <img src="../img/arrow_left.png" alt="" />
    Back
    </span>
  </a>

  <a href="#" onclick="javascript:help(); return false" id="btnhelp">
    <span>
    <img src="../img/help.png" alt="" />
    Help
    </span>
  </a>

  <a href="../index.html">
    <img src="../img/arrow_right.png" alt="" />
    Next
  </a>
</div>

</div>
</body>
</html>
