<html>
<head><link href="../cscroot.css" rel="stylesheet" type="text/css"><title>ROOT Exercise III - Solution</title></head>
<body class="solution">
<h1>ROOT Exercise III - Solution</h1>
<p>Got stuck? This is the solution</p>
<h2>1 My First TSelector</h2>

<div class="exercise">
<p>We have created a selector (starting from the output of <tt>TTree::MakeSelector()</tt>) for you;
	  see the files <a href="beamspot.root" class="source">TPosCorr.h</a> and <a href="beamspot.root" class="source">TPosCorr.C</a>.
	  Run it on the TTree MyTree spread over the files</p>
	  <pre>
	  http://server/exercise3.root
	  http://server/exercise3_1.root
	  http://server/exercise3_2.root
	  http://server/exercise3_3.root
	  http://server/exercise3_4.root
	  http://server/exercise3_5.root
	  http://server/exercise3_6.root
	  </pre>
	  <p>Run the selector in compiled mode on the whole tree.</p>
</div>

<p>You could write a macro <tt>makechain.C</tt> that sets up the chain and returns it:</p>
<pre>
#include "TChain.h"
#include "TString.h"
TChain* makechain()
{
   TChain* ch = new TChain("MyTree");
   ch-&gt;Add("http://server/exercise3.root");
   for (int i = 1; i &lt; 6; ++i) {
       // Use TString::Format() to insert the file number (%d gets replaced by i)
       ch-&gt;Add(TString::Format("http://server/exercise3_%d.root", i));
   }
   return ch;
}
</pre>
<p>You can now create the chain with</p>
<pre>
.L makechain.C
TChain* ch = makechain();
</pre>
<p>You can then run the selector with <tt>ch-&gt;Process("TPosCorr.C+");</tt></p>
</body>
</html>
