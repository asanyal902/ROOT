<html>
<head><link href="../cscroot.css" rel="stylesheet" type="text/css"><title>ROOT Exercise II - Solution</title></head>
<body class="solution">
<h1>ROOT Exercise II - Solution</h1>
<p>Got stuck? This is the solution</p>
<h2>1 I/O</h2>

<div class="exercise">
Run the macro <a href="ages_io.C" class="source">ages_io.C</a>
For some reason, the histogram does not stay on the canvas.
Please repair that!
</div>

You could change <tt>read_histo()</tt> to look like this:
<pre>
void read_histo()
{
   // function reading the 1D histogram from the Root file

   // create a file in read mode
   TFile *file = new TFile("ages.root", "READ");
   // get (read) the histogram from the file
   TH1F *h1 = (TH1F *)file-&gt;Get("ages");
   // remove the association of h1 with file
   <b>h1-&gt;SetDirectory(0);</b>
   // draw (display) the histogram
   h1-&gt;Draw();
   // call the function fitting the histogram
   fit_histo(h1);
   // delete the file. As seen before, this automatically 
   // close the physical file on disk
   delete file;
}
</pre>
</body>
</html>
